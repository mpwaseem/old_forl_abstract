$(function(){$("[data-load-api-query]").on("click",function(){let rayId=$(this).attr("data-load-api-query");let xsrfToken=$(this).attr("data-xsrf");loadQueryRay(rayId,xsrfToken)})});let apiQueryModal=$("div#apiQueryModal");function resetApiQueryModal(){$(apiQueryModal).modal("hide");let resCodeTop=$(apiQueryModal).find("#resCodeTop");$(resCodeTop).removeClass("text-warning text-success");$(resCodeTop).find("span").text("???")}function loadQueryRay(b,a){resetApiQueryModal();xhrCall(rootPath+"/api/queries?query",{xsrf:a,id:b},{type:"get"},function(c){xhrResult(c);if(c.hasOwnProperty("status")&&c.status===true){if(c.hasOwnProperty("query")&&typeof c.query==="object"){let query=c.query;$.each(query,function(d,e){let paramElements=$(apiQueryModal).find('[data-api-query-param="'+d+'"]');if($(paramElements).length){$.each(paramElements,function(g,f){if($(f).attr("data-param-feed")==="val"){$(f).val(e)}else{$(f).text(e)}})}});if(query.resCode>0){let resCodeTop=$(apiQueryModal).find("#resCodeTop");$(resCodeTop).find("span").text(query.resCode);if(query.resCode===200){$(resCodeTop).addClass("text-success")}else{$(resCodeTop).addClass("text-warning")}}$(apiQueryModal).modal("show")}}})};